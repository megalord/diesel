<!doctype html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <a href="/">home</a>
    <a href="/test">test</a>
    <a href="/page/1">1</a>
    <a href="/page/2">2</a>
    <script src="router.js"></script>
    <script>
        Array.prototype.forEach.call(document.getElementsByTagName('a'), function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                router.navigateTo(event.target.pathname);
            });
        });

        router.config({history:false});

        router.when('*', function(route) {
            console.log('route changed to '+route);
        })
        .when('/', function() {
            console.log('index');
        })
        .when('/test', function() {
            console.log('test');
        })
        .when('/page', function() {
            console.log('page - index');
        })
        .when('/page/:id', function(params) {
            console.log('page', params.id);
        });

        router.start();
    </script>
</body>
</html>
